# Настройка Directus API для многопользовательской системы

## Важно: Многопользовательская система

Приложение предназначено для работы нескольких менеджеров одновременно. Все данные (апартаменты, бронирования, файлы) должны быть доступны всем пользователям.

## Настройка Directus API

### 1. Создайте файл .env
Создайте файл `.env` в папке `morent-guide` со следующим содержимым:

```env
# Настройки Directus API
VITE_DIRECTUS_URL=https://1.cycloscope.online
VITE_DIRECTUS_TOKEN=your_directus_token_here

# Режим работы приложения
VITE_APP_MODE=production
VITE_DEMO_MODE=false
```

### 2. Получите токен доступа к Directus
1. Войдите в админ-панель Directus: https://1.cycloscope.online/admin
2. Перейдите в Settings → API Tokens
3. Создайте новый токен с правами:
   - `apartments:create`, `apartments:read`, `apartments:update`, `apartments:delete`
   - `bookings:create`, `bookings:read`, `bookings:update`, `bookings:delete`
   - `files:create`, `files:read`, `files:delete`
4. Скопируйте токен и вставьте в файл .env

### 3. Настройте права доступа в Directus
В Directus убедитесь, что роль имеет права:

**Для апартаментов:**
- `apartments:create` - создание апартаментов
- `apartments:read` - чтение апартаментов
- `apartments:update` - обновление апартаментов
- `apartments:delete` - удаление апартаментов

**Для бронирований:**
- `bookings:create` - создание бронирований
- `bookings:read` - чтение бронирований
- `bookings:update` - обновление бронирований
- `bookings:delete` - удаление бронирований

**Для файлов:**
- `files:create` - загрузка файлов
- `files:read` - чтение файлов
- `files:delete` - удаление файлов

### 4. Проверка работы
После настройки:
1. Перезапустите приложение
2. Попробуйте создать апартамент с загрузкой файлов
3. Проверьте, что файлы загружаются без ошибок
4. Убедитесь, что данные видны всем пользователям

## Многопользовательская работа

После настройки:
- ✅ Все менеджеры видят одни и те же данные
- ✅ Загруженные файлы доступны всем пользователям
- ✅ Изменения синхронизируются в реальном времени
- ✅ Система работает как единое целое 